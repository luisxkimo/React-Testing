<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <title>Pruebas Css</title>

    <!-- De momento pasamos del animate.css porque no va bien con las columnas-->
    <!--<link rel="stylesheet" href="css/animate.css"/>-->

    <!-- Pasamos a utilizar animation.css que va mejor con las columnas-->
    <!--<link rel="stylesheet" href="css/animations.css">-->
    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">-->

    <link rel="stylesheet" href="css/normalize.css"/>
    <link rel="stylesheet" href="css/test.css"/>
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>

    <!--Dejamos preparado el autoScroll.js para probar luego-->
    <!--<script src="css/autoScroll.js"></script>-->

    <script type="application/javascript">
$(function(){

    $('mainContainer').ready(function(){
        var items = [];
        $.getJSON( "data/orders.json", function( data ) {
            var subItems = [];
            $.each(data, function (key, val) {
               var headItem =
               "<div class='order' id='"+val._id+"'>" +
                "<p>"+
                    "<dl>"+
                        "<dt>Mesa "+ val.tableId +"</dt>";

                $.each(val.items,function(key,value){
                    subItems.push("<dd>"+value.quantity+" x "+value.product+"</dd>");
                });

                var footerItem = "</dl></p></div>";

                var itemfinal = headItem + subItems.join("") + footerItem;
                items.push(itemfinal);
            });
            $.each(items, function(i, item){
                $('#mainContainer').append(item);
            });
        });
    });

     $('#addOrder').click(function(){

         var identity = getGUID();

         var newOrder = $('<div></div>');
         newOrder.attr('id', identity);
         newOrder.addClass('order');
         newOrder.addClass('bigEntrance');
         var count = Math.floor((Math.random() * 3) + 1);
         var order = '<p>' +
                 '<dl>'+
                 '<dt>Mesa '+count+'</dt>';
         for(i = 0; i < count; i++){

             order = order + '<dd> 1 x Patatas Fritas </dd>'+
             '<dd> 2 x Burguer sin queso</dd>'+
             '<dd> 1 x Fingers de pollo</dd>';
         }

         newOrder.append(order+
                 '</dl>'+
                 '</p>');
          $('#mainContainer').append(newOrder);
    });

    $('#deleteOrder').click(function(){
        var main = document.getElementById('mainContainer');
        var divs = main.getElementsByTagName('div');
        var lastDiv = divs[divs.length-1];

        main.removeChild(lastDiv);
    });

    $('#leftScroll').click(function(){
        var position = $('#mainContainer').scrollLeft();
        $('#mainContainer').scrollLeft(position - 178);

    });

    $('#rightScroll').click(function(){

        var position = $('#mainContainer').scrollLeft();
        var viewScroll= document.getElementById('mainContainer').clientWidth;
        var z = document.getElementById('mainContainer').scrollWidth;
        $('#mainContainer').scrollLeft(position + 178);
    });

    function S4() {
        return (((1+Math.random())*0x10000)|0).toString(16).substring(1);
    }

    var getGUID = function(){
        guid = (S4() + S4() + "-" + S4() + "-4"
        + S4().substr(0,3) + "-" + S4() + "-"
        + S4() + S4() + S4()).toLowerCase();
        return guid;
    };
});
    </script>
</head>
<body>
    <div id="mainContainer" class="reading-canvas">


    </div>

    <footer class="footer">
        <div class="footerButtons">
            <div class="leftButtons">
                <button id="addOrder" class="btn btn-success">AÃ±adir Orden</button>
                <button id="deleteOrder" class="btn btn-success">Eliminar Orden</button>
            </div>
            <div id="preparationTypes" class="centerButtons">
                <button id="" class="btn btn-success">Primeros</button>
                <button id="" class="btn btn-success">Segundos</button>
                <button id="" class="btn btn-success">Postres</button>
            </div>
            <div class="rightButtons">
                <button id="leftScroll" class="btn btn-warning">Left</button>
                <button id="rightScroll" class="btn btn-warning">Right</button>
            </div>
        </div>
    </footer>
</body>
</html>